<!--
  Generated template for the PostsList page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{topic.title}}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <div padding *ngIf="topicPage != null && topicPage.totalPages > 1">
    <ion-segment>
      <ion-segment-button *ngIf="topicPage.thisPage > 1" value="prePage" (ionSelect)="previousPage(topicPage.thisPage, topicPage.recordsPerPage)">
        上一页
      </ion-segment-button>
      <ion-segment-button value="thisPage">
        {{topicPage.thisPage}}/{{topicPage.totalPages}}
      </ion-segment-button>
      <ion-segment-button *ngIf=" topicPage.totalPages > topicPage.thisPage" value="nextPage" (ionSelect)="nextPage(topicPage.thisPage, topicPage.recordsPerPage)">
        下一页
      </ion-segment-button>
    </ion-segment>
  </div>

  <div *ngIf="topicPage != null && topicPage.posts != null">
    <ion-list>
      <ion-item *ngFor="let post of topicPage.posts">
        <div class="postText" [innerHTML]=" post.longtext | safeHtml"></div>
      </ion-item>
    </ion-list>
  </div>

  <div padding *ngIf="topicPage != null && topicPage.totalPages > 1">
    <ion-segment>
      <ion-segment-button *ngIf="topicPage.thisPage > 1" value="prePage" (ionSelect)="previousPage(topicPage.thisPage, topicPage.recordsPerPage)">
        上一页
      </ion-segment-button>
      <ion-segment-button value="thisPage">
        {{topicPage.thisPage}}/{{topicPage.totalPages}}
      </ion-segment-button>
      <ion-segment-button *ngIf=" topicPage.totalPages > topicPage.thisPage" value="nextPage" (ionSelect)="nextPage(topicPage.thisPage, topicPage.recordsPerPage)">
        下一页
      </ion-segment-button>
    </ion-segment>
  </div>

  <div [ngStyle]="{'display': nicEditorDisplay}" padding>
    <label class="labelField">回复: </label>
    <div class="niceDiv">
      <textarea class="subjectTextarea" style="width: 100%; height: 200px;" id="niceTextArea"></textarea>
    </div>
    <button ion-button full (click)="sendNewReply()" >发送</button>
  </div>
</ion-content>